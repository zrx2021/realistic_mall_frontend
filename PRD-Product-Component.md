# Product商品展示组件 - 产品需求文档 (PRD)

## 1. 产品概述

### 1.1 产品定位

Product商品展示组件是一个功能强大、高度可配置的商品展示模块，用于电商平台的商品页面搭建。该组件支持多种布局模式和展示样式，能够满足不同业务场景下的商品展示需求。

### 1.2 核心价值

- **多样化布局**：支持4种主流商品展示布局
- **高可配置性**：支持商品分组、样式自定义、功能模块开关
- **增强用户体验**：提供丰富的商品信息展示和交互功能
- **响应式设计**：适配不同屏幕尺寸，确保在移动端和桌面端都有良好体验

### 1.3 技术栈

- **前端框架**：Vue 3 + TypeScript
- **样式方案**：Scoped CSS
- **构建工具**：Vite
- **UI组件库**：Ant Design Vue

---

## 2. 功能需求

### 2.1 核心功能

#### 2.1.1 布局模式切换

- **一大两小布局** (`oneMainTwoSub`)
  - 主商品区域：1个大尺寸商品卡片
  - 副商品区域：2个小尺寸商品卡片
  - 总显示商品数量：3个
- **两列布局** (`twoColumns`)
  - 网格排列：2x2网格布局
  - 总显示商品数量：4个
- **大图模式** (`largeImage`)
  - 纵向排列：每个商品占用较大显示区域
  - 总显示商品数量：2个
- **列表模式** (`list`)
  - 横向布局：图片在左，信息在右
  - 总显示商品数量：3个

#### 2.1.2 展示样式配置

- **无边白底** (`noBorderWhite`)：纯白色背景，无边框
- **卡片投影** (`cardShadow`)：白色背景 + 阴影效果
- **描边白底** (`borderWhite`)：白色背景 + 边框
- **无边透明底** (`noBorderTransparent`)：透明背景

#### 2.1.3 商品分组功能

- 支持最多10个商品分组
- 每个分组包含：
  - 分组名称（系统默认）
  - 显示名称（用户自定义）
  - 显示数量（自定义数量/全部）
- 分组标签切换功能
- 根据商品类别自动筛选显示

### 2.2 商品信息展示

#### 2.2.1 基础信息

- **商品名称**：支持自动截断，不同布局下行数限制不同
- **商品描述**：可选显示，支持单行显示
- **商品图片**：支持占位符显示，错误处理
- **商品价格**：现价 + 原价（可选）

#### 2.2.2 扩展信息

- **商品标签**：热销、新品、秒杀、折扣、包邮等
- **评分系统**：5星评分显示
- **销量信息**：支持数字格式化（万为单位）
- **库存状态**：内部管理，不直接展示

#### 2.2.3 特殊功能

- **秒杀倒计时**：实时倒计时显示
- **购物车按钮**：一键加购功能
- **商品点击**：跳转商品详情页（待实现）

### 2.3 交互功能

#### 2.3.1 用户交互

- 商品卡片点击：触发商品详情查看
- 购物车按钮点击：添加商品到购物车
- 分组标签切换：筛选不同分类商品
- 图片加载失败：显示默认占位符

#### 2.3.2 视觉反馈

- 悬浮效果：商品卡片hover动画
- 选中状态：分组标签激活样式
- 加载状态：图片加载失败处理
- 过渡动画：各种状态切换动画

---

## 3. 数据结构设计

### 3.1 主要接口定义

```typescript
// 商品项接口
interface GoodsItem {
  id: number // 商品ID
  name: string // 商品名称
  description: string // 商品描述
  price: number // 现价
  originalPrice?: number // 原价
  imageUrl: string // 商品图片URL
  stock: number // 库存数量
  sales: number // 销量
  rating: number // 评分 (0-5)
  tags: string[] // 商品标签
  discount?: number // 折扣百分比
  isHot?: boolean // 是否热销
  isNew?: boolean // 是否新品
  isSeckill?: boolean // 是否秒杀
  seckillEndTime?: string // 秒杀结束时间
  category: string // 商品分类
}

// 商品分组接口
interface GoodsGroup {
  groupId: number // 分组ID
  componentId?: number // 组件ID
  groupName: string // 分组名称
  displayCount: number // 显示数量
  displayName?: string // 显示名称
  displayType?: 'custom' | 'all' // 显示类型
}

// 主组件配置接口
interface Goods {
  goodsId: number // 商品组件ID
  componentId?: number // 组件关联ID
  templateStyle: string // 布局模式
  goodsList: GoodsItem[] // 商品列表
  groupData: GoodsGroup[] // 分组数据
  displayStyle: string // 展示样式
  showPrice: boolean // 显示价格
  showCart: boolean // 显示购物车
  showRating: boolean // 显示评分
  showSales: boolean // 显示销量
  showTags: boolean // 显示标签
  enableSeckill: boolean // 启用秒杀
  autoPlay: boolean // 自动轮播
  playInterval: number // 轮播间隔
}
```

### 3.2 标签类型映射

```typescript
const tagMap = {
  热销: 'tag-hot', // 红色渐变
  新品: 'tag-new', // 绿色渐变
  秒杀: 'tag-seckill', // 红色渐变
  折扣: 'tag-discount', // 橙色渐变
  包邮: 'tag-free-shipping', // 蓝色渐变
  '5G': 'tag-feature', // 紫色渐变
  徕卡: 'tag-feature', // 紫色渐变
  影像: 'tag-feature', // 紫色渐变
  智能: 'tag-feature', // 紫色渐变
  除螨: 'tag-feature', // 紫色渐变
  降噪: 'tag-feature', // 紫色渐变
  无线: 'tag-feature', // 紫色渐变
}
```

---

## 4. UI/UX设计规范

### 4.1 布局规范

#### 4.1.1 整体容器

- 最大宽度：375px（移动端适配）
- 背景：可配置（白色/透明/带阴影）
- 边框圆角：12px
- 内边距：8px

#### 4.1.2 商品卡片

- 背景：白色
- 边框圆角：12px
- 边框：1px solid #f0f0f0
- 阴影：0 2px 8px rgba(0, 0, 0, 0.04)
- 悬浮阴影：0 8px 24px rgba(0, 0, 0, 0.12)

### 4.2 文字规范

#### 4.2.1 商品标题

- **一大两小主商品**：16px，600字重，1行显示
- **一大两小副商品**：12px，500字重，2行显示
- **两列布局**：14px，600字重，2行显示
- **大图模式**：16px，600字重，1行显示
- **列表模式**：16px，600字重，1行显示
- 颜色：#2c3e50
- 行高：1.4-1.5

#### 4.2.2 商品描述

- 字体大小：12px
- 颜色：#999
- 行高：1.3
- 显示行数：1行
- 超出处理：省略号

#### 4.2.3 价格显示

- **现价**：红色 (#e74c3c)，粗体
- **原价**：灰色 (#95a5a6)，删除线
- 字体：Arial, sans-serif
- 字母间距：0.5px

### 4.3 颜色规范

#### 4.3.1 主色调

- **主要文字**：#2c3e50
- **次要文字**：#999
- **价格红色**：#e74c3c
- **链接蓝色**：#1890ff
- **边框灰色**：#e8e8e8

#### 4.3.2 标签颜色

- **热销标签**：#ff6b6b → #ff8e8e 渐变
- **新品标签**：#4ecdc4 → #6bcf7f 渐变
- **秒杀标签**：#ff4757 → #ff6b7a 渐变
- **折扣标签**：#ffa726 → #ffcc02 渐变
- **包邮标签**：#42a5f5 → #64b5f6 渐变
- **功能标签**：#ab47bc → #ba68c8 渐变

### 4.4 动画效果

#### 4.4.1 悬浮效果

- 商品卡片：transform: translateY(-4px)
- 过渡时间：0.3s ease
- 阴影增强：0 8px 24px rgba(0, 0, 0, 0.12)

#### 4.4.2 点击反馈

- 购物车图标：scale(1.15) rotate(5deg)
- 分组标签：translateY(-2px)

---

## 5. 技术实现细节

### 5.1 响应式设计

#### 5.1.1 断点设计

- **移动端**：≤ 768px
  - 一大两小布局：改为纵向排列
  - 两列布局：改为单列
  - 减少内边距和字体大小

#### 5.1.2 适配策略

- 使用CSS媒体查询
- flex布局自适应
- 图片等比缩放

### 5.2 性能优化

#### 5.2.1 图片处理

- 支持WebP格式
- 错误处理机制
- 占位符显示
- 懒加载（待实现）

#### 5.2.2 组件优化

- 计算属性缓存
- 事件委托处理
- 样式作用域隔离

### 5.3 功能扩展点

#### 5.3.1 待实现功能

- 商品详情页跳转
- 购物车状态管理
- 商品收藏功能
- 分享功能
- 图片懒加载

#### 5.3.2 配置扩展

- 更多布局模式
- 自定义标签类型
- 动画效果配置
- 主题色彩配置

---

## 6. 业务场景

### 6.1 电商首页

- 使用一大两小布局突出主推商品
- 开启分组功能展示不同类别
- 显示全部信息（价格、评分、销量、标签）

### 6.2 分类页面

- 使用两列或列表布局
- 按商品分类进行分组
- 重点显示价格和标签

### 6.3 活动页面

- 使用大图模式突出展示
- 开启秒杀功能
- 强调折扣和优惠标签

### 6.4 移动端适配

- 响应式布局自动适配
- 触摸友好的交互设计
- 适合移动端的字体大小

---

## 7. 测试用例

### 7.1 功能测试

- [ ] 四种布局模式正常切换
- [ ] 商品分组筛选功能
- [ ] 商品信息正确显示
- [ ] 价格格式化显示
- [ ] 标签样式正确应用
- [ ] 评分星级显示
- [ ] 销量格式化显示
- [ ] 秒杀倒计时功能

### 7.2 交互测试

- [ ] 商品卡片点击响应
- [ ] 购物车按钮点击
- [ ] 分组标签切换
- [ ] 悬浮效果正常
- [ ] 图片加载失败处理

### 7.3 兼容性测试

- [ ] Chrome浏览器兼容
- [ ] Safari浏览器兼容
- [ ] Firefox浏览器兼容
- [ ] 移动端浏览器兼容
- [ ] 不同屏幕尺寸适配

### 7.4 性能测试

- [ ] 组件渲染性能
- [ ] 大量商品数据处理
- [ ] 图片加载优化
- [ ] 内存使用情况

---

## 8. 版本迭代规划

### 8.1 当前版本 (v1.0)

- ✅ 基础布局模式
- ✅ 商品信息展示
- ✅ 分组功能
- ✅ 基础交互
- ✅ 响应式设计

### 8.2 下一版本 (v1.1)

- [ ] 购物车状态管理集成
- [ ] 商品详情页路由跳转
- [ ] 图片懒加载优化
- [ ] 更多自定义配置选项

### 8.3 未来版本 (v2.0)

- [ ] 商品收藏功能
- [ ] 分享功能
- [ ] 个性化推荐
- [ ] A/B测试支持
- [ ] 数据埋点集成

---

## 9. 风险评估

### 9.1 技术风险

- **图片加载失败**：已有错误处理机制
- **性能问题**：大量商品数据可能影响渲染性能
- **兼容性问题**：CSS新特性在老版本浏览器的支持

### 9.2 业务风险

- **用户体验**：不同布局的学习成本
- **商品展示**：信息过多可能造成页面拥挤
- **转化率**：布局选择对购买转化的影响

### 9.3 缓解方案

- 增加性能监控
- 提供布局选择指南
- A/B测试验证效果
- 渐进式功能增强

---

## 10. 总结

Product商品展示组件是一个功能完整、设计精良的电商商品展示解决方案。通过灵活的配置选项和多样化的布局模式，能够满足不同业务场景的需求。组件在用户体验、性能优化和可维护性方面都有良好的表现，为电商平台的商品展示提供了强有力的技术支撑。

随着业务的发展和用户需求的变化，组件将持续迭代优化，在保持现有功能稳定的基础上，不断增加新的特性和改进用户体验。
